CREATE DATABASE  IF NOT EXISTS `odonto_sys` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `odonto_sys`;
-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: odonto_sys
-- ------------------------------------------------------
-- Server version	8.0.42

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `cita`
--

DROP TABLE IF EXISTS `OS_CITAS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_CITAS` (
  `CITA_ID` int NOT NULL AUTO_INCREMENT,
  `PACIENTE_ID` int NOT NULL,
  `ODONTOLOGO_ID` int NOT NULL,
  `COMPROBANTE_ID` int DEFAULT NULL,
  `FECHA` date NOT NULL,
  `HORA_INICIO` time NOT NULL,
  `PUNTUACION` int DEFAULT '0',
  `ESTADO` enum('RESERVADA','ATENDIDA','CANCELADA','PAGO_CANCELADO') NOT NULL,
  PRIMARY KEY (`CITA_ID`),
  KEY `PACIENTE_ID` (`PACIENTE_ID`),
  KEY `ODONTOLOGO_ID` (`ODONTOLOGO_ID`),
  KEY `COMPROBANTE_ID` (`COMPROBANTE_ID`),
  CONSTRAINT `cita_ibfk_1` FOREIGN KEY (`PACIENTE_ID`) REFERENCES `OS_PACIENTES` (`PACIENTE_ID`),
  CONSTRAINT `cita_ibfk_2` FOREIGN KEY (`ODONTOLOGO_ID`) REFERENCES `OS_ODONTOLOGOS` (`ODONTOLOGO_ID`),
  CONSTRAINT `cita_ibfk_3` FOREIGN KEY (`COMPROBANTE_ID`) REFERENCES `OS_COMPROBANTES` (`COMPROBANTE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cita`
--

LOCK TABLES `OS_CITAS` WRITE;
/*!40000 ALTER TABLE `OS_CITAS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_CITAS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `comprobante`
--

DROP TABLE IF EXISTS `OS_COMPROBANTES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_COMPROBANTES` (
  `COMPROBANTE_ID` int NOT NULL AUTO_INCREMENT,
  `FECHA_EMISION` date NOT NULL,
  `TOTAL` double NOT NULL,
  `HORA_EMISION` time DEFAULT NULL,
  `METODO_PAGO_ID` int DEFAULT NULL,
  PRIMARY KEY (`COMPROBANTE_ID`),
  KEY `comprobante_ibfk_1` (`METODO_PAGO_ID`),
  CONSTRAINT `comprobante_ibfk_1` FOREIGN KEY (`METODO_PAGO_ID`) REFERENCES `OS_METODOS_PAGOS` (`METODO_PAGO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comprobante`
--

LOCK TABLES `OS_COMPROBANTES` WRITE;
/*!40000 ALTER TABLE `OS_COMPROBANTES` DISABLE KEYS */;
INSERT INTO `OS_COMPROBANTES` VALUES (1,'1000-01-01',0,0,1);
/*!40000 ALTER TABLE `OS_COMPROBANTES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `detalletratamiento`
--

DROP TABLE IF EXISTS `OS_DETALLES_TRATAMIENTOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_DETALLES_TRATAMIENTOS` (
  `CITA_ID` int NOT NULL,
  `TRATAMIENTO_ID` int NOT NULL,
  `CANTIDAD` int NOT NULL DEFAULT '1',
  `SUBTOTAL` double NOT NULL,
  PRIMARY KEY (`CITA_ID`,`TRATAMIENTO_ID`),
  KEY `TRATAMIENTO_ID` (`TRATAMIENTO_ID`),
  CONSTRAINT `detalletratamiento_ibfk_1` FOREIGN KEY (`CITA_ID`) REFERENCES `OS_CITAS` (`CITA_ID`),
  CONSTRAINT `detalletratamiento_ibfk_2` FOREIGN KEY (`TRATAMIENTO_ID`) REFERENCES `OS_TRATAMIENTOS` (`TRATAMIENTO_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `detalletratamiento`
--

LOCK TABLES `OS_DETALLES_TRATAMIENTOS` WRITE;
/*!40000 ALTER TABLE `OS_DETALLES_TRATAMIENTOS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_DETALLES_TRATAMIENTOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `especialidad`
--

DROP TABLE IF EXISTS `OS_ESPECIALIDADES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_ESPECIALIDADES` (
  `ESPECIALIDAD_ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ESPECIALIDAD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `especialidad`
--

LOCK TABLES `OS_ESPECIALIDADES` WRITE;
/*!40000 ALTER TABLE `OS_ESPECIALIDADES` DISABLE KEYS */;
insert into OS_ESPECIALIDADES (DESCRIPCION) values ('ODONTOLOGIA_GENERAL');
insert into OS_ESPECIALIDADES (DESCRIPCION) values ('ORTODONCIA');
insert into OS_ESPECIALIDADES (DESCRIPCION) values ('ENDODONCIA');
insert into OS_ESPECIALIDADES (DESCRIPCION) values ('CIRUGIA');
insert into OS_ESPECIALIDADES (DESCRIPCION) values ('PEDIATRIA');
/*!40000 ALTER TABLE `OS_ESPECIALIDADES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `metodopago`
--

DROP TABLE IF EXISTS `OS_METODOS_PAGOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_METODOS_PAGOS` (
  `METODO_PAGO_ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`METODO_PAGO_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `metodopago`
--

LOCK TABLES `OS_METODOS_PAGOS` WRITE;
/*!40000 ALTER TABLE `OS_METODOS_PAGOS` DISABLE KEYS */;
insert into OS_METODOS_PAGOS (DESCRIPCION) values ('EFECTIVO');
insert into OS_METODOS_PAGOS (DESCRIPCION) values ('TARJETA');
insert into OS_METODOS_PAGOS (DESCRIPCION) values ('TRANSFERENCIA');
insert into OS_METODOS_PAGOS (DESCRIPCION) values ('YAPE');
insert into OS_METODOS_PAGOS (DESCRIPCION) values ('PLIN');
/*!40000 ALTER TABLE `OS_METODOS_PAGOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `odontologo`
--

DROP TABLE IF EXISTS `OS_ODONTOLOGOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_ODONTOLOGOS` (
  `ODONTOLOGO_ID` int NOT NULL AUTO_INCREMENT,
  `PUNTUACION_PROMEDIO` double DEFAULT '0',
  `SALA_ID` int DEFAULT NULL,
  `CONTRASENHA` varchar(50) DEFAULT NULL,
  `NOMBRE_USUARIO` varchar(100) DEFAULT NULL,
  `CORREO` varchar(100) DEFAULT NULL,
  `TELEFONO` varchar(10) DEFAULT NULL,
  `NOMBRES` varchar(50) DEFAULT NULL,
  `APELLIDOS` varchar(50) DEFAULT NULL,
  `DOCUMENTO_IDENTIDAD` varchar(10) DEFAULT NULL,
  `ESPECIALIDAD_ID` int DEFAULT NULL,
  PRIMARY KEY (`ODONTOLOGO_ID`),
  KEY `SALA_ID` (`SALA_ID`),
  KEY `ESPECIALIDAD_ID` (`ESPECIALIDAD_ID`),
  CONSTRAINT `odontologo_ibfk_1` FOREIGN KEY (`ESPECIALIDAD_ID`) REFERENCES `OS_ESPECIALIDADES` (`ESPECIALIDAD_ID`),
  CONSTRAINT `odontologo_ibfk_3` FOREIGN KEY (`SALA_ID`) REFERENCES `OS_SALAS` (`SALA_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `odontologo`
--

LOCK TABLES `OS_ODONTOLOGOS` WRITE;
/*!40000 ALTER TABLE `OS_ODONTOLOGOS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_ODONTOLOGOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `odontologo_turno`
--

DROP TABLE IF EXISTS `OS_TURNOS_POR_ODONTOLOGOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_TURNOS_POR_ODONTOLOGOS` (
  `ODONTOLOGO_ID` int NOT NULL,
  `TURNO_ID` int NOT NULL,
  PRIMARY KEY (`ODONTOLOGO_ID`,`TURNO_ID`),
  KEY `TURNO_ID` (`TURNO_ID`),
  CONSTRAINT `odontologo_turno_ibfk_1` FOREIGN KEY (`ODONTOLOGO_ID`) REFERENCES `OS_ODONTOLOGOS` (`ODONTOLOGO_ID`),
  CONSTRAINT `odontologo_turno_ibfk_2` FOREIGN KEY (`TURNO_ID`) REFERENCES `OS_TURNOS` (`TURNO_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `odontologo_turno`
--

LOCK TABLES `OS_TURNOS_POR_ODONTOLOGOS` WRITE;
/*!40000 ALTER TABLE `OS_TURNOS_POR_ODONTOLOGOS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_TURNOS_POR_ODONTOLOGOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `paciente`
--

DROP TABLE IF EXISTS `OS_PACIENTES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_PACIENTES` (
  `PACIENTE_ID` int NOT NULL AUTO_INCREMENT,
  `CONTRASENHA` varchar(50) DEFAULT NULL,
  `NOMBRE_USUARIO` varchar(100) DEFAULT NULL UNIQUE,
  `CORREO`  varchar(100) DEFAULT NULL,
  `TELEFONO` varchar(10) DEFAULT NULL,
  `NOMBRES` varchar(50) DEFAULT NULL,
  `APELLIDOS` varchar(50) DEFAULT NULL,
  `DOCUMENTO_IDENTIDAD` varchar(10) DEFAULT NULL UNIQUE,
  PRIMARY KEY (`PACIENTE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `paciente`
--

LOCK TABLES `OS_PACIENTES` WRITE;
/*!40000 ALTER TABLE `OS_PACIENTES` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_PACIENTES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `recepcionista`
--

DROP TABLE IF EXISTS `OS_RECEPCIONISTAS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_RECEPCIONISTAS` (
  `RECEPCIONISTA_ID` int NOT NULL AUTO_INCREMENT,
  `CONTRASENHA` varchar(50) DEFAULT NULL,
  `NOMBRE_USUARIO` varchar(100) DEFAULT NULL UNIQUE,
  `CORREO` varchar(100) DEFAULT NULL UNIQUE,
  `TELEFONO` varchar(10) DEFAULT NULL UNIQUE,
  `NOMBRES` varchar(50) DEFAULT NULL,
  `APELLIDOS` varchar(50) DEFAULT NULL,
  `DOCUMENTO_IDENTIDAD` varchar(10) DEFAULT NULL UNIQUE,
  PRIMARY KEY (`RECEPCIONISTA_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `recepcionista`
--

LOCK TABLES `OS_RECEPCIONISTAS` WRITE;
/*!40000 ALTER TABLE `OS_RECEPCIONISTAS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_RECEPCIONISTAS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sala`
--

DROP TABLE IF EXISTS `OS_SALAS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_SALAS` (
  `SALA_ID` int NOT NULL AUTO_INCREMENT,
  `NUMERO_SALA` varchar(10) NOT NULL,
  `PISO` int NOT NULL,
  PRIMARY KEY (`SALA_ID`),
  UNIQUE KEY `NUMERO_SALA` (`NUMERO_SALA`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sala`
--

LOCK TABLES `OS_SALAS` WRITE;
/*!40000 ALTER TABLE `OS_SALAS` DISABLE KEYS */;
/*!40000 ALTER TABLE `OS_SALAS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tipousuario`
--

DROP TABLE IF EXISTS `OS_TIPOS_USUARIOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_TIPOS_USUARIOS` (
  `TIPO_ID` int NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` varchar(100) NOT NULL,
  PRIMARY KEY (`TIPO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tipousuario`
--

LOCK TABLES `OS_TIPOS_USUARIOS` WRITE;
/*!40000 ALTER TABLE `OS_TIPOS_USUARIOS` DISABLE KEYS */;
INSERT INTO `OS_TIPOS_USUARIOS` VALUES (1,'PACIENTE'),(2,'ODONTOLOGO'),(3,'RECEPCIONISTA'),(4,'ADMINISTRADOR');
/*!40000 ALTER TABLE `OS_TIPOS_USUARIOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tratamiento`
--

DROP TABLE IF EXISTS `OS_TRATAMIENTOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_TRATAMIENTOS` (
  `TRATAMIENTO_ID` int NOT NULL AUTO_INCREMENT,
  `NOMBRE` varchar(100) NOT NULL,
  `DESCRIPCION` text,
  `COSTO` double NOT NULL,
  `ESPECIALIDAD_ID` int NOT NULL,
  PRIMARY KEY (`TRATAMIENTO_ID`),
  UNIQUE KEY `NOMBRE` (`NOMBRE`),
  CONSTRAINT `tratamiento_ibfk_1` FOREIGN KEY (`ESPECIALIDAD_ID`) REFERENCES `OS_ESPECIALIDADES` (`ESPECIALIDAD_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tratamiento`
--

LOCK TABLES `OS_TRATAMIENTOS` WRITE;
/*!40000 ALTER TABLE `OS_TRATAMIENTOS` DISABLE KEYS */;
INSERT INTO `OS_TRATAMIENTOS` VALUES (1,'Endodoncia','Tratamiento del interior del diente',500,5);
INSERT INTO `OS_TRATAMIENTOS` VALUES (2,'Limpieza','Tratamiento exterior',150,3);
INSERT INTO `OS_TRATAMIENTOS` VALUES (3,'Corona','Recubrimiento superior del diente',300,1);
INSERT INTO `OS_TRATAMIENTOS` VALUES (4,'Curacion','Tratamiento superficial de caries',100,1);
/*!40000 ALTER TABLE `OS_TRATAMIENTOS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `turno`
--

DROP TABLE IF EXISTS `OS_TURNOS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `OS_TURNOS` (
  `TURNO_ID` int NOT NULL AUTO_INCREMENT,
  `HORA_INICIO` time NOT NULL,
  `HORA_FIN` time NOT NULL,
  `DIA_SEMANA` enum('MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY') NOT NULL,
  PRIMARY KEY (`TURNO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `turno`
--

LOCK TABLES `OS_TURNOS` WRITE;
/*!40000 ALTER TABLE `OS_TURNOS` DISABLE KEYS */;
INSERT INTO `OS_TURNOS` VALUES (1,'00:24:45','00:24:45','THURSDAY');
/*!40000 ALTER TABLE `OS_TURNOS` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-05-29 19:54:47
